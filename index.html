<!DOCTYPE html>
<html lang="bn">
<head>
  <link rel="icon" type="image/jpeg" href="./images.jpeg">
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Countdown Timer</title>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
      font-family: 'Poppins', sans-serif;
    }
    body {
      height: 100vh;
      background: #0a0a0a;
      color: #fff;
      display: flex;
      justify-content: center;
      align-items: center;
      flex-direction: column;
      gap: 30px;
      user-select: none;
    }
    .countdown {
      display: flex;
      justify-content: center;
      align-items: center;
      gap: 15px;
    }
    .circle {
      width: 70px;
      height: 70px;
      border-radius: 50%;
      background: rgba(255, 255, 255, 0.08);
      display: flex;
      justify-content: center;
      align-items: center;
      flex-direction: column;
      box-shadow: 0 0 10px rgba(255,255,255,0.1);
      border: 2px solid rgba(255,255,255,0.2);
      text-align: center;
    }
    .value {
      font-size: 1.5rem;
      font-weight: bold;
    }
    .label {
      font-size: 0.7rem;
      opacity: 0.7;
      margin-top: 3px;
    }
    #controlBox {
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 10px;
      transition: 0.3s;
    }
    input {
      padding: 10px;
      border-radius: 10px;
      border: none;
      outline: none;
      background: rgba(255,255,255,0.1);
      color: #fff;
      font-size: 0.9rem;
      text-align: center;
      width: 200px;
    }
    button {
      padding: 10px 25px;
      border: none;
      border-radius: 10px;
      background: #00bcd4;
      color: white;
      font-weight: bold;
      font-size: 1rem;
      cursor: pointer;
      transition: 0.3s;
    }
    button:hover {
      background: #0097a7;
    }
    .hidden {
      opacity: 0;
      pointer-events: none;
      transform: scale(0.9);
    }
    @media (max-width: 480px) {
      .circle {
        width: 60px;
        height: 60px;
      }
      .value {
        font-size: 1.2rem;
      }
      .label {
        font-size: 0.6rem;
      }
      .countdown {
        gap: 10px;
      }
      input {
        width: 180px;
      }
    }
  </style>
</head>
<body>

  <div class="countdown" id="countdownArea">
    <div class="circle">
      <div class="value" id="days">00</div>
      <div class="label">Days</div>
    </div>
    <div class="circle">
      <div class="value" id="hours">00</div>
      <div class="label">Hours</div>
    </div>
    <div class="circle">
      <div class="value" id="minutes">00</div>
      <div class="label">Minutes</div>
    </div>
    <div class="circle">
      <div class="value" id="seconds">00</div>
      <div class="label">Seconds</div>
    </div>
  </div>

  <div id="controlBox">
    <input type="datetime-local" id="targetInput">
    <button id="setTarget">Start</button>
  </div>

  <script>
    const d = document.getElementById('days');
    const h = document.getElementById('hours');
    const m = document.getElementById('minutes');
    const s = document.getElementById('seconds');
    const input = document.getElementById('targetInput');
    const btn = document.getElementById('setTarget');
    const controlBox = document.getElementById('controlBox');

    let targetDate, timer;

    // LocalStorage থেকে আগের সময় পড়া
    const savedTime = localStorage.getItem('targetTime');
    if (savedTime) {
      targetDate = new Date(savedTime);
      controlBox.classList.add('hidden');
      startCountdown();
    }

    // সময় সেট করে সেভ করা
    btn.addEventListener('click', () => {
      const val = input.value;
      if (!val) return;
      targetDate = new Date(val);
      localStorage.setItem('targetTime', targetDate);
      controlBox.classList.add('hidden');
      startCountdown();
    });

    // ডাবল ট্যাপ করলে ইনপুট আবার আসবে
    let lastTap = 0;
    document.body.addEventListener('touchend', () => {
      const now = Date.now();
      if (now - lastTap < 300) {
        controlBox.classList.toggle('hidden');
      }
      lastTap = now;
    });

    // পিসির জন্য ডাবল ক্লিক সাপোর্ট
    document.body.addEventListener('dblclick', () => {
      controlBox.classList.toggle('hidden');
    });

    function startCountdown() {
      clearInterval(timer);
      timer = setInterval(() => {
        const now = new Date();
        const diff = targetDate - now;

        if (diff <= 0) {
          clearInterval(timer);
          d.textContent = h.textContent = m.textContent = s.textContent = "00";
          localStorage.removeItem('targetTime');
          controlBox.classList.remove('hidden');
          return;
        }

        const days = Math.floor(diff / (1000 * 60 * 60 * 24));
        const hours = Math.floor((diff / (1000 * 60 * 60)) % 24);
        const minutes = Math.floor((diff / (1000 * 60)) % 60);
        const seconds = Math.floor((diff / 1000) % 60);

        d.textContent = days.toString().padStart(2, '0');
        h.textContent = hours.toString().padStart(2, '0');
        m.textContent = minutes.toString().padStart(2, '0');
        s.textContent = seconds.toString().padStart(2, '0');
      }, 1000);
    }
  </script>

</body>
</html>
